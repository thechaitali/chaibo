<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meet CHAIBO ðŸ¤–</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(to right, #fceabb, #f8b500);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 20px;
    }
    #robot {
      width: 200px;
      height: 200px;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 2em;
      margin: 10px 0;
    }
    .typing {
      font-size: 1.1em;
      border-right: 2px solid #333;
      white-space: nowrap;
      overflow: hidden;
      margin-bottom: 20px;
      min-height: 3em;
    }
    button {
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      background: #ffecd2;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #f8c58c;
    }
  </style>
</head>
<body>
  <div id="robot"></div>
  <h1>ðŸ‘‹ Meet CHAIBO!</h1>
  <div class="typing" id="typing">Choose my voice to start!</div>

  <div>
    <p>Choose my voice:</p>
    <button onclick="startGreeting('female')">Female Voice</button>
    <button onclick="startGreeting('male')">Male Voice</button>
  </div>

  <script>
    // Load Lottie Animation
    const animation = lottie.loadAnimation({
      container: document.getElementById('robot'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: 'https://assets2.lottiefiles.com/packages/lf20_ydo1amjm.json'
    });

    const message = "Hello Human! I am your AI Bot, CHAIBO!! ðŸ¤– Nice to interact with you all!! My name is CHAIBO because I was designed by Chaitali Borkar â€” my creator!";
    const typing = document.getElementById('typing');
    let voices = [];

    // Load voices properly
    function loadVoices() {
      voices = window.speechSynthesis.getVoices();
    }

    loadVoices();
    window.speechSynthesis.onvoiceschanged = loadVoices;

    function startGreeting(voiceType) {
      typing.textContent = '';
      let i = 0;

      function typeText() {
        if (i < message.length) {
          typing.textContent += message.charAt(i);
          i++;
          setTimeout(typeText, 50);
        }
      }

      const speech = new SpeechSynthesisUtterance(message);
      speech.voice = voices.find(v => {
        if (voiceType === 'female') {
          return v.name.toLowerCase().includes('female') || v.name.toLowerCase().includes('samantha');
        } else {
          return v.name.toLowerCase().includes('male') || v.name.toLowerCase().includes('daniel');
        }
      }) || voices[0];

      speech.pitch = 1;
      speech.rate = 1;

      // Start Typing + Speaking
      typeText();
      window.speechSynthesis.speak(speech);
    }
  </script>
</body>
</html>